<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OpenDeep AI Assistant</title>
    <link rel="stylesheet" href="{{ url_for('static', path='/css/style.css') }}">
</head>
<body>
    <div class="app-container">
        <header class="app-header">
            <!-- User info will be managed here -->
            <div class="user-info">
                <span id="username-display" class="hidden">APPU</span> 
                <input type="text" id="username-input" class="username-input" placeholder="Your Name" value="APPU">
                <button id="edit-username-btn" class="edit-username-button">Set Name</button>
            </div>
            <h1>AI Planning Assistant</h1>
            <div style="display: flex; gap: 10px; align-items: center;">
                <a href="/ui/dashboard" style="color: #007bff; text-decoration: none; font-weight: 500;">Task Dashboard</a>
                <button id="toggle-theme-btn">Toggle Theme</button>
            </div>
        </header>

        <!-- Test Scenarios Panel (only visible for APPU user) -->
        <div id="test-scenarios-panel" class="test-scenarios-panel hidden">
            <h3>ğŸ§ª Quick Test Scenarios</h3>
            <p class="test-instruction">Click any scenario to instantly create and schedule a test campaign:</p>
            
            <div class="scenarios-grid">
                <div class="scenario-category">
                    <h4>ğŸ“ HITL Scenarios (Human Intervention Required)</h4>
                    <div class="scenario-buttons">
                        <button class="scenario-btn hitl-scenario" data-scenario="hotel-booking">
                            ğŸ¨ Hotel Booking
                            <small>Time conflict requires human decision</small>
                        </button>
                        <button class="scenario-btn hitl-scenario" data-scenario="restaurant-reservation">
                            ğŸ½ï¸ Restaurant Reservation
                            <small>Menu changes need confirmation</small>
                        </button>
                        <button class="scenario-btn hitl-scenario" data-scenario="appointment-scheduling">
                            ğŸ“… Doctor Appointment
                            <small>Availability conflict needs resolution</small>
                        </button>
                    </div>
                </div>
                
                <div class="scenario-category">
                    <h4>ğŸ¤– Auto Scenarios (No Human Intervention)</h4>
                    <div class="scenario-buttons">
                        <button class="scenario-btn auto-scenario" data-scenario="confirmation-call">
                            âœ… Confirmation Call
                            <small>Simple appointment confirmation</small>
                        </button>
                        <button class="scenario-btn auto-scenario" data-scenario="follow-up-call">
                            ğŸ“ Follow-up Call
                            <small>Service satisfaction check</small>
                        </button>
                        <button class="scenario-btn auto-scenario" data-scenario="survey-call">
                            ğŸ“Š Survey Call
                            <small>Quick customer feedback</small>
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <div id="chat-container">
            <div id="chat-window">
                <!-- Messages will be appended here -->
            </div>
            <form id="message-form">
                <input type="text" id="message-input" placeholder="Describe your calling task..." autocomplete="off">
                <button type="button" id="mic-btn">ğŸ¤</button>
                <button type="submit">Send</button>
            </form>
            <button id="confirm-campaign-btn" class="hidden">Confirm and Schedule Campaign</button>
        </div>
    </div>

    <script src="{{ url_for('static', path='/js/main.js') }}"></script>
</body>
</html>